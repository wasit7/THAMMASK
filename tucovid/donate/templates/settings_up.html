{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="content">
  <nav class="breadcrumb" aria-label="breadcrumbs">
    <ul class="no-margin">
      <li>
        <a href="{% url 'donate:home' %}">หน้าแรก</a>
      </li>

      {% for d in data.nav.0 %}
      <li>
        <a href="{{ d.url }}">{{ d.page }}</a>
      </li>
      {% endfor %}
    </ul>
  </nav>
  <hr>

  {{ data.profile.get_absolute_url }}
  <h4 class="title is-4 no-margin">ประวัติส่วนตัว</h4>
  <form action="{% url 'donate:profile' %}" class="settings-up-form" method="POST">
    {% csrf_token %}
    <div class="field is-horizontal">
      <div class="field-label is-normal">
        <label class="label">ชื่อ - นามสกุล*</label>
      </div>
      <div class="field-body">
        <div class="field">
          <div class="control">
            <input class="input" type="text" placeholder="เช่น Dr.Admin Thammask" name="full_name" {% if data.profile.full_name != None %} value="{{ data.profile.full_name }}" {% endif %} required />
          </div>
        </div>
      </div>
    </div>

    <div class="field is-horizontal">
      <div class="field-label is-normal">
        <label class="label">อีเมล*</label>
      </div>
      <div class="field-body">
        <div class="field">
          <div class="control">
            <input class="input" type="email" placeholder="เช่น admin@thammask.com" name="email" {% if data.profile.email != None %} value="{{ data.profile.email }}" {% endif %} required />
          </div>
        </div>
      </div>
    </div>

    <div class="field is-horizontal">
      <div class="field-label is-normal">
        <label class="label">เบอร์โทรศัพท์.*</label>
      </div>
      <div class="field-body">
        <div class="field">
          <div class="control">
            <input class="input" type="text" placeholder="เช่น 099-9999999" name="telephone" {% if data.profile.telephone != None %} value="{{ data.profile.telephone }}" {% endif %} required/>
          </div>
        </div>
      </div>
    </div>

    <div class="field is-horizontal margin-top">
      <div class="field-label"></div>
      <div class="field-body">
        <div class="field">
          <div class="control">
            <button class="button is-primary" type="submit">
              ยืนยัน
            </button>
            <a href="{% url 'logout' %}" class="button logout">ออกจากระบบ</a>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
{% endblock content %}

{% block script %}
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
  />
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>
    flatpickr("#date_of_birth", {
      dateFormat: "d F Y"
    })
  </script>

{% endblock script %}
